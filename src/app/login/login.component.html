<div class="login-container">
    <div class="login-box">
        <h2>{{ isLoginMode ? 'Connexion' : 'Inscription' }}</h2>
        
        <!-- Message d'erreur -->
        <div *ngIf="errorMessage" class="error-message">
            <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
        </div>
        
        <div class="form-container">
            <!-- Formulaire de connexion -->
            <form *ngIf="isLoginMode" [@slideInOut] [formGroup]="loginForm" (ngSubmit)="onLogin()">
                <div class="form-group">
                    <label for="login-identifiant">Nom d'utilisateur</label>
                    <input 
                        id="login-identifiant" 
                        type="text" 
                        formControlName="identifiant" 
                        placeholder="Votre nom d'utilisateur"
                        required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Mot de passe</label>
                    <input 
                        id="login-password" 
                        type="password" 
                        formControlName="mot_de_passe" 
                        placeholder="Votre mot de passe"
                        required>
                </div>
                
                <button 
                    type="submit" 
                    class="submit-button"
                    [disabled]="loginForm.invalid || loading">
                    <span *ngIf="!loading">
                        <i class="fas fa-sign-in-alt"></i> Se connecter
                    </span>
                    <span *ngIf="loading">
                        <i class="fas fa-spinner fa-spin"></i> Chargement...
                    </span>
                </button>
            </form>
            
            <!-- Formulaire d'inscription -->
            <form *ngIf="!isLoginMode" [@slideInOut] [formGroup]="registerForm" (ngSubmit)="onRegister()">
                <div class="form-group">
                    <label for="register-identifiant">Nom d'utilisateur</label>
                    <input 
                        id="register-identifiant" 
                        type="text" 
                        formControlName="identifiant" 
                        placeholder="Choisissez un nom d'utilisateur"
                        required>
                </div>
                
                <div class="form-group">
                    <label for="register-password">Mot de passe</label>
                    <input 
                        id="register-password" 
                        type="password" 
                        formControlName="mot_de_passe" 
                        placeholder="Choisissez un mot de passe"
                        required>
                </div>
                
                <div class="form-group">
                    <label for="register-confirm-password">Confirmer le mot de passe</label>
                    <input 
                        id="register-confirm-password" 
                        type="password" 
                        formControlName="confirmPassword" 
                        placeholder="Confirmez votre mot de passe"
                        required>
                </div>
                
                <button 
                    type="submit" 
                    class="submit-button"
                    [disabled]="registerForm.invalid || loading">
                    <span *ngIf="!loading">
                        <i class="fas fa-user-plus"></i> S'inscrire
                    </span>
                    <span *ngIf="loading">
                        <i class="fas fa-spinner fa-spin"></i> Chargement...
                    </span>
                </button>
            </form>
        </div>
        
        <!-- Lien pour basculer entre connexion et inscription -->
        <div class="signup-link">
            {{ isLoginMode ? 'Pas encore de compte ?' : 'Déjà un compte ?' }}
            <a href="javascript:void(0)" (click)="toggleMode()">
                {{ isLoginMode ? 'S\'inscrire' : 'Se connecter' }}
            </a>
        </div>
    </div>
</div>
